
; PICBASIC PRO(TM) Compiler 2.60, (c) 1998, 2009 microEngineering Labs, Inc. All Rights Reserved. 
_USED			EQU	1

	INCLUDE	"C:\PBP\18F4550.INC"


; Define statements.
; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00012	Define OSC 10  ; Definir que se trabajará con 10MHz.
#define		OSC		 10  ; Definir que se trabajará con 10MHz.

RAM_START       		EQU	00000h
RAM_END         		EQU	007FFh
RAM_BANKS       		EQU	00008h
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; C:\PBP\PBPPIC18.RAM      	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; C:\PBP\PBPPIC18.RAM      	00012	A00001	R0      VAR     WORD BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 001h
; C:\PBP\PBPPIC18.RAM      	00013	A00003	R1      VAR     WORD BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 003h
; C:\PBP\PBPPIC18.RAM      	00014	A00005	R2      VAR     WORD BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 005h
; C:\PBP\PBPPIC18.RAM      	00015	A00007	R3      VAR     WORD BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 007h
; C:\PBP\PBPPIC18.RAM      	00016	A00009	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 009h
; C:\PBP\PBPPIC18.RAM      	00017	A0000B	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Bh
; C:\PBP\PBPPIC18.RAM      	00018	A0000D	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Dh
; C:\PBP\PBPPIC18.RAM      	00019	A0000F	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 00Fh
; C:\PBP\PBPPIC18.RAM      	00020	A00011	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 011h
; C:\PBP\PBPPIC18.RAM      	00027	A00013	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 013h
; C:\PBP\PBPPIC18.RAM      	00023	A00014	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; C:\PBP\PBPPIC18.RAM      	00026	A00015	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; C:\PBP\PBPPIC18.RAM      	00021	A00016	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; C:\PBP\PBPPIC18.RAM      	00024	A00017	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; C:\PBP\PBPPIC18.RAM      	00022	A00018	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 018h
; C:\PBP\PBPPIC18.RAM      	00025	A00019	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 019h
; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00016	A0001A	x var byte          ;variable para el For...next
_x               		EQU	RAM_START + 01Ah
; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00017	A0001B	y var byte          ;variable para el puerto
_y               		EQU	RAM_START + 01Bh
; C:\PBP\18F4550.BAS       	00026	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PBP\18F4550.BAS       	00027	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PBP\18F4550.BAS       	00028	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PBP\18F4550.BAS       	00029	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC

; Constants.
_USBMEMORYADDRESS		EQU	00400h

; EEPROM data.


	INCLUDE	"PRACT3.MAC"
	INCLUDE	"C:\PBP\PBPPIC18.LIB"


; C:\PBP\18F4550.BAS       	00012	BANKA   $0000, $005F
; C:\PBP\18F4550.BAS       	00013	BANK0   $0060, $00FF
; C:\PBP\18F4550.BAS       	00014	BANK1   $0100, $01FF
; C:\PBP\18F4550.BAS       	00015	BANK2   $0200, $02FF
; C:\PBP\18F4550.BAS       	00016	BANK3   $0300, $03FF
; C:\PBP\18F4550.BAS       	00017	BANK4   $0400, $04FF
; C:\PBP\18F4550.BAS       	00018	BANK5   $0500, $05FF
; C:\PBP\18F4550.BAS       	00019	BANK6   $0600, $06FF
; C:\PBP\18F4550.BAS       	00020	BANK7   $0700, $07FF
; C:\PBP\18F4550.BAS       	00022	LIBRARY "PBPPIC18"

; C:\PBP\18F4550.BAS       	00024	        include "PIC18EXT.BAS"

; C:\PBP\18F4550.BAS       	00031	        include "PBPPIC18.RAM"
; C:\PBP\18F4550.BAS       	00032	USBMEMORYADDRESS Con	$400	' USB RAM starts here
; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00012	Define OSC 10  ; Definir que se trabajará con 10MHz.

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00014	TRISB = %00000000   ; configurar los  8bits del puerto B como salida
	MOVE?CB	000h, TRISB

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00015	PORTB = %00000000   ; limpiar puerto, todo apagado
	MOVE?CB	000h, PORTB

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00018	x = 0
	MOVE?CB	000h, _x

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00019	y = 1
	MOVE?CB	001h, _y

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00021	inicio:             ; etiqueta

	LABEL?L	_inicio	

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00022	   for x = 1 to 8   ; 5 bits del puerto A
	MOVE?CB	001h, _x
	LABEL?L	L00001	
	CMPGT?BCL	_x, 008h, L00002

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00024	PORTB = y           ; saca por el puerto el valor de y en binario
	MOVE?BB	_y, PORTB

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00025	pause 500           ; 1000ms = 1seg
	PAUSE?C	001F4h

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00026	y = y * 2           ;para obtener la potencia en base 2
	MUL?BCB	_y, 002h, _y

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00027	next x             
	NEXT?BCL	_x, 001h, L00001
	LABEL?L	L00002	

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00029	y = 1               ;para que inicie en 1 de nuevo 
	MOVE?CB	001h, _y

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00030	goto inicio         ; brinca a la etiqueta inicio
	GOTO?L	_inicio

; C:\USERS\UTNC\DOCUMENTS\GITHUB\MICROCODE\P2\PRACT3.PBP	00032	end
	END?	

	END
